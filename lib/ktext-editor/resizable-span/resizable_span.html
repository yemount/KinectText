<span ng-focus="spanCtrl.onFocus($event)" 
      ng-blur="spanCtrl.onBlur($event)"
      ng-click="spanCtrl.onClick($event)"
      style="left: {{spanCtrl.kText.loc.x}}px; 
            top: {{spanCtrl.kText.loc.y}}px;
            position: absolute;"
      tabindex="0">
  <span id="text-span" style="font-family: {{spanCtrl.kText.font}}; 
                  font-size: {{spanCtrl.kText.size}}pt;
                  -webkit-transform-origin: 0% 0%;
                  -webkit-transform: scale({{spanCtrl.kText.scale.x}}, {{spanCtrl.kText.scale.y}}) rotate({{spanCtrl.kText.vertical ? 90 : 0}}deg)"
          class="ktext"> 
      {{spanCtrl.kText.text}}
      <span id="cursor" class="blinking cursor" ng-if="spanCtrl.kText.editing">|</span>
  </span>
  <div id="anim-icon" ng-if="spanCtrl.kText.registered && spanCtrl.kText.anim != null">
    <div style="background-color: {{spanCtrl.kText.timelineColor}}; left:0px"></div>
    <div style="background-color: {{spanCtrl.kText.timelineColor}}; left:4px; opacity: 0.6;"></div>
    <div style="background-color: {{spanCtrl.kText.timelineColor}}; left:8px; opacity: 0.2;"></div>
  </div>
  <div id="handles" style="display: {{spanCtrl.selected ? 'block' : 'none'}};">
      <div id="bbox" style="left: {{spanCtrl.kText.vertical ? -spanCtrl.curSize.x.toInt() : 0}}px; 
                      top: 0px; 
                      width: {{spanCtrl.curSize.x.toInt()}}px; 
                      height: {{spanCtrl.curSize.y.toInt()}}px;">
        <div id="nw"
          style="left: {{-spanCtrl.hoff-spanCtrl.hsize/2}}px; top: {{-spanCtrl.hoff-spanCtrl.hsize/2}}px;"></div>
        <div id="n"
          style="left: {{spanCtrl.curSize.x/2-spanCtrl.hsize/2}}px; top: {{-spanCtrl.hoff-spanCtrl.hsize/2}}px;"></div>
        <div id="ne"
          style="left: {{spanCtrl.curSize.x+spanCtrl.hoff-spanCtrl.hsize/2}}px; top: {{-spanCtrl.hoff-spanCtrl.hsize/2}}px;"></div>
        <div id="e"
          style="left: {{spanCtrl.curSize.x+spanCtrl.hoff-spanCtrl.hsize/2}}px; top: {{spanCtrl.curSize.y/2-spanCtrl.hsize/2}}px;"></div>
        <div id="se"
          style="left: {{spanCtrl.curSize.x+spanCtrl.hoff-spanCtrl.hsize/2}}px; top: {{spanCtrl.curSize.y+spanCtrl.hoff-spanCtrl.hsize/2}}px;"></div>
        <div id="s"
          style="left: {{spanCtrl.curSize.x/2-spanCtrl.hsize/2}}px; top: {{spanCtrl.curSize.y+spanCtrl.hoff-spanCtrl.hsize/2}}px;"></div>
        <div id="sw"
          style="left: {{-spanCtrl.hoff-spanCtrl.hsize/2}}px; top: {{spanCtrl.curSize.y+spanCtrl.hoff-spanCtrl.hsize/2}}px;"></div>
        <div id="w"
          style="left: {{-spanCtrl.hoff-spanCtrl.hsize/2}}px; top: {{spanCtrl.curSize.y/2-spanCtrl.hsize/2}}px;"></div>
      </div>
    </div>
</span>